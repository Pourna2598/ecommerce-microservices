sequenceDiagram
    participant Client
    participant Gateway as API Gateway
    participant User as User Service
    participant Product as Product Service
    participant Order as Order Service
    participant Payment as Payment Service
    participant Notification as Notification Service
    participant RabbitMQ
    participant MongoDB

    Client->>Gateway: Login Request
    Gateway->>User: Authenticate
    User->>MongoDB: Verify Credentials
    MongoDB-->>User: User Data
    User-->>Gateway: JWT Token
    Gateway-->>Client: Login Response

    Client->>Gateway: Create Order
    Gateway->>Order: Create Order Request
    Order->>Product: Check Product Availability
    Product->>MongoDB: Verify Stock
    MongoDB-->>Product: Stock Info
    Product-->>Order: Availability Status
    Order->>Payment: Process Payment
    Payment->>MongoDB: Update Payment Status
    Order->>RabbitMQ: Order Created Event
    RabbitMQ->>Notification: Send Order Confirmation
    Notification->>MongoDB: Store Notification
    Order-->>Gateway: Order Created
    Gateway-->>Client: Order Response 